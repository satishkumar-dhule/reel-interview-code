{
  "id": "q-181",
  "question": "Explain the difference between weak and unowned references in Swift. When would you use each?",
  "answer": "weak: optional, nils automatically. unowned: non-optional, assumes object exists. Use weak for optional relationships, unowned when object always outlives reference.",
  "explanation": "In Swift, both `weak` and `unowned` are used to prevent retain cycles in closures and delegate patterns, but they behave differently:\n\n**Weak References:**\n- Always optional (automatically becomes nil when object is deallocated)\n- Must be unwrapped before use\n- Safe to use when the referenced object might be deallocated before the reference\n- Common in delegate patterns and optional relationships\n\n**Unowned References:**\n- Always non-optional (assumes object will always exist when accessed)\n- Doesn't need to be unwrapped\n- Causes runtime crash if accessed after object is deallocated\n- Used when you're certain the referenced object will outlive the reference\n- Common in closure capture lists where parent-child relationship is guaranteed\n\n**Key Difference:** `weak` is safer but requires optional handling, while `unowned` is more convenient but riskier if assumptions are wrong.",
  "tags": [
    "swift",
    "language"
  ],
  "difficulty": "intermediate",
  "diagram": "graph TD\n    A[Object A] -->|strong| B[Object B]\n    B -->|weak| A\n    C[Parent] -->|strong| D[Child]\n    D -->|unowned| C\n    E[ViewController] -->|strong| F[CustomView]\n    F -->|weak delegate| E\n    G[NetworkManager] -->|strong| H[DataTask]\n    H -->|unowned| G",
  "lastUpdated": "2025-12-14T10:25:19.093Z"
}