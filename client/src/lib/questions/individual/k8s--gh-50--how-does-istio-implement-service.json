{
  "id": "gh-50",
  "question": "How does Istio implement service mesh architecture using sidecar proxies?",
  "answer": "Istio deploys Envoy sidecar proxies alongside each service to handle traffic management, security, and observability.",
  "explanation": "## Concept Overview\nIstio is a service mesh platform that uses the sidecar pattern to intercept and manage all network traffic between microservices without requiring application code changes.\n\n## Implementation\n### Architecture Components\n```yaml\n# Sidecar injection via annotation\napiVersion: v1\nkind: Pod\nmetadata:\n  name: my-app\n  annotations:\n    sidecar.istio.io/inject: \"true\"\nspec:\n  containers:\n  - name: app\n    image: my-app:latest\n```\n\n### Traffic Management\n```yaml\n# VirtualService for routing\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: reviews\nspec:\n  http:\n  - match:\n    - headers:\n        end-user:\n          exact: jason\n    route:\n    - destination:\n        host: reviews\n        subset: v2\n```\n\n### Security Configuration\n```yaml\n# PeerAuthentication for mTLS\napiVersion: security.istio.io/v1beta1\nkind: PeerAuthentication\nmetadata:\n  name: default\nspec:\n  mtls:\n    mode: STRICT\n```\n\n## Trade-offs\n**Pros:**\n- Zero-code changes for traffic management\n- Advanced security policies and mTLS\n- Rich observability and telemetry\n- Gradual adoption with per-namespace control\n\n**Cons:**\n- Increased resource overhead (sidecar proxies)\n- Complex configuration and learning curve\n- Potential latency impact\n- Operational complexity at scale\n\n**When to Use:**\n- Microservices with 10+ services\n- Multi-cluster or multi-cloud deployments\n- Strict security and compliance requirements\n- Advanced traffic routing needs\n\n## Common Pitfalls\n- **Resource Planning:** Under-provisioning sidecar memory/CPU causing pod failures\n- **Namespace Scope:** Forgetting to enable Istio injection in target namespaces\n- **Configuration Conflicts:** VirtualService and DestinationRule conflicts causing routing loops\n- **mTLS Mismatch:** Partial mTLS enablement breaking service communication\n- **Observability Overload:** Enabling all telemetry causing performance degradation",
  "difficulty": "advanced",
  "tags": [
    "k8s",
    "advanced"
  ],
  "lastUpdated": "2025-12-15T06:36:55.073Z",
  "diagram": "graph TD\n    A[Client Request] --> B[Ingress Gateway]\n    B --> C[Service A Pod]\n    C --> D[Envoy Sidecar A]\n    D --> E[Pilot API]\n    E --> F[Service Discovery]\n    D --> G[Service B Pod]\n    G --> H[Envoy Sidecar B]\n    H --> I[Service B Container]\n    I --> J[Response]\n    J --> H\n    H --> D\n    D --> C\n    C --> B\n    B --> A\n    \n    K[Mixer] --> L[Telemetry]\n    K --> M[Policy]\n    D --> K\n    H --> K\n    \n    subgraph \"Control Plane\"\n        E\n        K\n        F\n    end\n    \n    subgraph \"Data Plane\"\n        C\n        D\n        G\n        H\n        I\n    end"
}