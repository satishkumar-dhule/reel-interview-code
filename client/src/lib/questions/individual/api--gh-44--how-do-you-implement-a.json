{
  "id": "gh-44",
  "question": "How do you implement a comprehensive API security strategy that protects against common vulnerabilities while maintaining developer productivity?",
  "answer": "API security combines authentication, authorization, encryption, and monitoring to protect endpoints from threats while enabling secure access.",
  "explanation": "API security requires a multi-layered approach to protect against various attack vectors:\n\n## Core Security Components\n\n### 1. **Authentication & Authorization**\n- **OAuth 2.0 + OpenID Connect**: Industry standard for delegated access\n- **JWT Tokens**: Stateless authentication with claims-based authorization\n- **API Keys**: Simple authentication for service-to-service communication\n- **mTLS**: Mutual TLS for zero-trust service communication\n\n### 2. **Input Validation & Sanitization**\n- **Schema Validation**: Validate request bodies against OpenAPI/Swagger schemas\n- **SQL Injection Prevention**: Use parameterized queries and ORMs\n- **XSS Protection**: Sanitize user input and encode output\n- **Rate Limiting**: Prevent abuse and DoS attacks\n\n### 3. **Transport Security**\n- **HTTPS Only**: Enforce TLS 1.2+ for all API communications\n- **Certificate Pinning**: Prevent man-in-the-middle attacks\n- **HSTS Headers**: Force secure connections\n\n### 4. **API Gateway Security**\n```yaml\n# Kong API Gateway Security Configuration\nservices:\n- name: user-api\n  url: http://user-service:8000\n  plugins:\n  - name: oauth2\n    config:\n      scopes: [\"read\", \"write\"]\n  - name: rate-limiting\n    config:\n      minute: 100\n      policy: local\n  - name: request-size-limiting\n    config:\n      allowed_payload_size: 10\n```\n\n### 5. **Monitoring & Threat Detection**\n- **API Logging**: Comprehensive audit trails\n- **Anomaly Detection**: ML-based threat identification\n- **Security Headers**: CORS, CSP, X-Frame-Options\n- **Vulnerability Scanning**: Regular security assessments\n\n## Best Practices\n- **Principle of Least Privilege**: Grant minimal necessary permissions\n- **Defense in Depth**: Multiple security layers\n- **Regular Security Reviews**: Penetration testing and code audits\n- **Security by Design**: Build security into API design from the start",
  "diagram": "graph TD\n    Client[Client Application] --> GW[API Gateway]\n    GW --> Auth[Authentication Service]\n    GW --> Rate[Rate Limiter]\n    GW --> Valid[Input Validator]\n    GW --> API[Backend API]\n    \n    Auth --> OAuth[OAuth 2.0/JWT]\n    Auth --> mTLS[mutual TLS]\n    \n    API --> DB[(Database)]\n    API --> Cache[(Cache)]\n    \n    GW --> Monitor[Security Monitoring]\n    Monitor --> Alert[Threat Detection]\n    Monitor --> Log[Audit Logging]\n    \n    style GW fill:#e1f5fe\n    style Auth fill:#f3e5f5\n    style Monitor fill:#fff3e0\n    style Alert fill:#ffebee",
  "difficulty": "beginner",
  "tags": [
    "api",
    "service-mesh"
  ],
  "lastUpdated": "2025-12-13T06:30:21.829Z"
}